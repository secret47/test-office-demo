import{_ as S,b as r,c as d,e as s,w as o,f as t,o as n,d as a,g as c,j as V,F as x,m as C,k as T,E as p,t as w,n as $}from"./index-B0KDzUXc.js";const I={class:"library-container"},M={class:"card-header"},q={class:"resource-grid"},A={class:"image-info"},G={class:"filename"},H={class:"resource-grid"},J=["src"],K={class:"video-info"},O={class:"filename"},P={__name:"index",setup(Q){const m=r("images"),i=r(!1),v=r([]),f=r([]),U=()=>{i.value=!0},h=k=>{p.success("上传成功"),i.value=!1},B=()=>{p.error("上传失败")},g=k=>{p.success("删除成功")};return(k,e)=>{const u=t("el-button"),y=t("el-empty"),E=t("el-image"),b=t("el-tab-pane"),D=t("el-tabs"),L=t("el-card"),N=t("el-icon"),j=t("el-upload"),z=t("el-dialog");return n(),d("div",I,[s(L,{class:"library-card"},{header:o(()=>[a("div",M,[e[3]||(e[3]=a("span",null,"资源库",-1)),s(u,{type:"primary",onClick:U},{default:o(()=>e[2]||(e[2]=[c("上传资源")])),_:1})])]),default:o(()=>[s(D,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l)},{default:o(()=>[s(b,{label:"图片",name:"images"},{default:o(()=>[a("div",q,[v.value.length===0?(n(),V(y,{key:0,description:"暂无图片资源"})):(n(!0),d(x,{key:1},C(v.value,(l,_)=>(n(),d("div",{class:"image-item",key:_},[s(E,{src:l.url,fit:"cover","preview-src-list":[l.url]},null,8,["src","preview-src-list"]),a("div",A,[a("span",G,w(l.name),1),s(u,{type:"danger",size:"small",onClick:F=>g(l.id)},{default:o(()=>e[4]||(e[4]=[c("删除")])),_:2},1032,["onClick"])])]))),128))])]),_:1}),s(b,{label:"视频",name:"videos"},{default:o(()=>[a("div",H,[f.value.length===0?(n(),V(y,{key:0,description:"暂无视频资源"})):(n(!0),d(x,{key:1},C(f.value,(l,_)=>(n(),d("div",{class:"video-item",key:_},[a("video",{src:l.url,controls:""},null,8,J),a("div",K,[a("span",O,w(l.name),1),s(u,{type:"danger",size:"small",onClick:F=>g(l.id)},{default:o(()=>e[5]||(e[5]=[c("删除")])),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(z,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),title:"上传资源",width:"500px"},{default:o(()=>[s(j,{class:"upload-demo",drag:"",action:"/api/upload","on-success":h,"on-error":B,multiple:""},{tip:o(()=>e[6]||(e[6]=[a("div",{class:"el-upload__tip"}," 支持jpg/png/mp4等格式文件 ",-1)])),default:o(()=>[s(N,{class:"el-icon--upload"},{default:o(()=>[s(T($))]),_:1}),e[7]||(e[7]=a("div",{class:"el-upload__text"},[c(" 将文件拖到此处，或"),a("em",null,"点击上传")],-1))]),_:1})]),_:1},8,["modelValue"])])}}},W=S(P,[["__scopeId","data-v-35b8d7d9"]]);export{W as default};
